<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.webServer>
        <handlers>
            <add name="iisnode" path="server.coffee" verb="*" modules="iisnode" />
        </handlers>
        <directoryBrowse enabled="false" />
        <rewrite>
            <rules>
                <rule name="hello">
                    <match url="hello/*" />
                    <action type="Rewrite" url="server.coffee" />
                </rule>
                <rule name="patients">
                    <match url="patients/*" />
                    <action type="Rewrite" url="server.coffee" />
                </rule>
            </rules>
        </rewrite>
        <validation validateIntegratedModeConfiguration="false" />
        <modules runAllManagedModulesForAllRequests="true">
            <add name="SassInterceptorModule" type="SassAndCoffee.AspNet.SassInterceptorModule" />
            <add name="JavaScriptInterceptorModule" type="SassAndCoffee.AspNet.JavaScriptInterceptorModule" />
        </modules>
        <caching enabled="true" enableKernelCache="true">
            <profiles>
                <add extension=".css" policy="CacheUntilChange" kernelCachePolicy="CacheUntilChange" varyByHeaders="Accept-Encoding" location="Any" />
                <add extension=".js" policy="CacheUntilChange" kernelCachePolicy="CacheUntilChange" varyByHeaders="Accept-Encoding" location="Any" />
            </profiles>
        </caching>
        <urlCompression doStaticCompression="true" doDynamicCompression="true" />
    </system.webServer>
    <system.web>
        <compilation debug="true" targetFramework="4.0" />
        <pages controlRenderingCompatibilityVersion="3.5" clientIDMode="AutoID" />
        <authentication mode="Windows" />
        <caching>
            <outputCacheSettings>
                <outputCacheProfiles>
                    <add name="SassAndCoffeeCacheSettings" enabled="true" duration="3600" location="Any" varyByHeader="Accept-Encoding" />
                </outputCacheProfiles>
            </outputCacheSettings>
        </caching>
        <httpModules>
            <add name="SassInterceptorModule" type="SassAndCoffee.AspNet.SassInterceptorModule" />
            <add name="JavaScriptInterceptorModule" type="SassAndCoffee.AspNet.JavaScriptInterceptorModule" />
        </httpModules>
    </system.web>
    <!--<location path="">
        <system.webServer>
		    <handlers>
			    <add name="iisnode" path="*.js" verb="*" modules="iisnode" />
		    </handlers>
            <directoryBrowse enabled="false" />
	    </system.webServer>     
    </location>-->
    <appSettings>
        <remove key="SassAndCoffee.Cache" />
    </appSettings>
</configuration>

<?xml version="1.0"?>
<!--<configuration>
  
  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>

  <system.webServer>
    <modules runAllManagedModulesForAllRequests="true">
      <add name="UrlRoutingModule" type="System.Web.Routing.UrlRoutingModule, System.Web, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" />
    </modules>
  </system.webServer>

  <system.serviceModel>
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true"/>
    <standardEndpoints>
      <webHttpEndpoint>
        --><!-- 
            Configure the WCF REST service base address via the global.asax.cs file and the default endpoint 
            via the attributes on the <standardEndpoint> element below
        --><!--
        <standardEndpoint name="" helpEnabled="true" automaticFormatSelectionEnabled="true"/>
      </webHttpEndpoint>
    </standardEndpoints>
  </system.serviceModel>

</configuration>-->
